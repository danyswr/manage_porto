{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-12">
                <div class="text-center mb-5 animate__animated animate__fadeInUp">
                    <h1 class="hero-title mb-3">
                        <i class="fas fa-chart-line me-3 text-primary"></i>
                        Data Management Dashboard
                    </h1>
                    <p class="hero-subtitle">Manage your profile, experience, certifications, and projects seamlessly</p>
                </div>

                <!-- Modern Card Grid -->
                <div class="row g-4">
                    <!-- Profile Card -->
                    <div class="col-lg-6 col-xl-3">
                        <div class="data-card h-100 animate__animated animate__fadeInUp animate__delay-1s" data-sheet="Profile">
                            <div class="card-header-modern">
                                <div class="card-icon profile-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <h5 class="card-title-modern">Profile</h5>
                                <p class="card-description">Personal information and contact details</p>
                            </div>
                            <div class="card-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="profileCount">-</span>
                                    <span class="stat-label">Records</span>
                                </div>
                            </div>
                            <div class="card-actions">
                                <button class="btn btn-outline-light btn-sm" onclick="viewData('Profile')">
                                    <i class="fas fa-eye me-1"></i>View
                                </button>
                                <button class="btn btn-light btn-sm" onclick="showEditModal('Profile')">
                                    <i class="fas fa-edit me-1"></i>Edit
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Experience Card -->
                    <div class="col-lg-6 col-xl-3">
                        <div class="data-card h-100 animate__animated animate__fadeInUp animate__delay-2s" data-sheet="Experience">
                            <div class="card-header-modern">
                                <div class="card-icon experience-icon">
                                    <i class="fas fa-briefcase"></i>
                                </div>
                                <h5 class="card-title-modern">Experience</h5>
                                <p class="card-description">Work history and professional experience</p>
                            </div>
                            <div class="card-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="experienceCount">-</span>
                                    <span class="stat-label">Records</span>
                                </div>
                            </div>
                            <div class="card-actions">
                                <button class="btn btn-outline-light btn-sm" onclick="viewData('Experience')">
                                    <i class="fas fa-eye me-1"></i>View
                                </button>
                                <button class="btn btn-light btn-sm" onclick="showAddModal('Experience')">
                                    <i class="fas fa-plus me-1"></i>Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Certifications Card -->
                    <div class="col-lg-6 col-xl-3">
                        <div class="data-card h-100 animate__animated animate__fadeInUp animate__delay-3s" data-sheet="Certifications">
                            <div class="card-header-modern">
                                <div class="card-icon certification-icon">
                                    <i class="fas fa-certificate"></i>
                                </div>
                                <h5 class="card-title-modern">Certifications</h5>
                                <p class="card-description">Professional certificates and achievements</p>
                            </div>
                            <div class="card-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="certificationsCount">-</span>
                                    <span class="stat-label">Records</span>
                                </div>
                            </div>
                            <div class="card-actions">
                                <button class="btn btn-outline-light btn-sm" onclick="viewData('Certifications')">
                                    <i class="fas fa-eye me-1"></i>View
                                </button>
                                <button class="btn btn-light btn-sm" onclick="showAddModal('Certifications')">
                                    <i class="fas fa-plus me-1"></i>Add
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Project Card -->
                    <div class="col-lg-6 col-xl-3">
                        <div class="data-card h-100 animate__animated animate__fadeInUp animate__delay-4s" data-sheet="Project">
                            <div class="card-header-modern">
                                <div class="card-icon project-icon">
                                    <i class="fas fa-project-diagram"></i>
                                </div>
                                <h5 class="card-title-modern">Projects</h5>
                                <p class="card-description">Portfolio projects and achievements</p>
                            </div>
                            <div class="card-stats">
                                <div class="stat-item">
                                    <span class="stat-number" id="projectCount">-</span>
                                    <span class="stat-label">Records</span>
                                </div>
                            </div>
                            <div class="card-actions">
                                <button class="btn btn-outline-light btn-sm" onclick="viewData('Project')">
                                    <i class="fas fa-eye me-1"></i>View
                                </button>
                                <button class="btn btn-light btn-sm" onclick="showAddModal('Project')">
                                    <i class="fas fa-plus me-1"></i>Add
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Data View Modal -->
<div class="modal fade" id="dataViewModal" tabindex="-1" data-bs-backdrop="static">
    <div class="modal-dialog modal-xl">
        <div class="modal-content modal-modern">
            <div class="modal-header-modern">
                <div class="d-flex align-items-center">
                    <div class="modal-icon me-3" id="modalIcon">
                        <i class="fas fa-table"></i>
                    </div>
                    <div>
                        <h5 class="modal-title mb-0" id="modalTitle">Data Management</h5>
                        <small class="text-muted" id="modalSubtitle">Manage your data records</small>
                    </div>
                </div>
                <button type="button" class="btn-close btn-close-modern" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body-modern p-0">
                <div class="table-container" id="dataTableContainer">
                    <div class="text-center p-5">
                        <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                        <div class="mt-3">Loading data...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Profile Edit Modal -->
<div class="modal fade" id="profileEditModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content modal-modern">
            <div class="modal-header-modern">
                <div class="d-flex align-items-center">
                    <div class="modal-icon profile-icon me-3">
                        <i class="fas fa-user"></i>
                    </div>
                    <div>
                        <h5 class="modal-title mb-0">Edit Profile</h5>
                        <small class="text-muted">Update your personal information</small>
                    </div>
                </div>
                <button type="button" class="btn-close btn-close-modern" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body-modern">
                <form id="profileForm" enctype="multipart/form-data">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="form-group-modern">
                                <label for="nama_lengkap" class="form-label-modern">Full Name *</label>
                                <input type="text" class="form-control-modern" id="nama_lengkap" name="nama_lengkap" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group-modern">
                                <label for="profesi" class="form-label-modern">Profession *</label>
                                <input type="text" class="form-control-modern" id="profesi" name="profesi" required>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group-modern">
                                <label for="Deskripsi" class="form-label-modern">Description</label>
                                <textarea class="form-control-modern" id="Deskripsi" name="Deskripsi" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group-modern">
                                <label for="profileImage" class="form-label-modern">Profile Photo</label>
                                <div class="file-upload-modern">
                                    <input type="file" class="form-control-modern" id="profileImage" accept="image/*">
                                    <div class="file-upload-text">
                                        <i class="fas fa-cloud-upload-alt me-2"></i>
                                        Choose image or drag and drop
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group-modern">
                                <label for="Email" class="form-label-modern">Email</label>
                                <input type="email" class="form-control-modern" id="Email" name="Email">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group-modern">
                                <label for="Nomor_Telepon" class="form-label-modern">Phone Number</label>
                                <input type="text" class="form-control-modern" id="Nomor_Telepon" name="Nomor_Telepon">
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-group-modern">
                                <label for="Lokasi" class="form-label-modern">Location</label>
                                <input type="text" class="form-control-modern" id="Lokasi" name="Lokasi">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group-modern">
                                <label for="Link_LinkedIn" class="form-label-modern">LinkedIn URL</label>
                                <input type="url" class="form-control-modern" id="Link_LinkedIn" name="Link_LinkedIn">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group-modern">
                                <label for="Link_GitHub" class="form-label-modern">GitHub URL</label>
                                <input type="url" class="form-control-modern" id="Link_GitHub" name="Link_GitHub">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer-modern">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="saveProfile()">
                    <i class="fas fa-save me-1"></i>Save Changes
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Dynamic Form Modal -->
<div class="modal fade" id="dynamicFormModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content modal-modern">
            <div class="modal-header-modern">
                <div class="d-flex align-items-center">
                    <div class="modal-icon me-3" id="dynamicModalIcon">
                        <i class="fas fa-plus"></i>
                    </div>
                    <div>
                        <h5 class="modal-title mb-0" id="dynamicModalTitle">Add Record</h5>
                        <small class="text-muted" id="dynamicModalSubtitle">Create new record</small>
                    </div>
                </div>
                <button type="button" class="btn-close btn-close-modern" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body-modern">
                <div id="dynamicFormContainer">
                    <!-- Form will be generated dynamically -->
                </div>
            </div>
            <div class="modal-footer-modern">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveDynamicRecord">
                    <i class="fas fa-save me-1"></i>Save Record
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Initialize dashboard when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    initializeDashboard();
});
</script>
{% endblock %}